<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NicholasAI â€“ Dynamic AI</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #1e1e2f;
    color: #f5f5f5;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    height: 100vh;
    margin: 0;
    padding: 0;
  }
  h1 {
    margin-top: 20px;
    color: #00ffcc;
    text-shadow: 0 0 10px #00ffcc;
  }
  #chatBox {
    width: 90%;
    max-width: 600px;
    height: 70%;
    background: #2c2c44;
    border-radius: 10px;
    padding: 10px;
    overflow-y: auto;
    margin-top: 20px;
    box-shadow: 0 0 20px #000;
  }
  .message {
    margin: 5px 0;
    padding: 8px;
    border-radius: 5px;
  }
  .user {
    background: #00ccff;
    color: #000;
    text-align: right;
  }
  .bot {
    background: #00ffcc;
    color: #000;
    text-align: left;
  }
  #inputContainer {
    width: 90%;
    max-width: 600px;
    display: flex;
    margin-top: 10px;
  }
  #userInput {
    flex: 1;
    padding: 10px;
    border-radius: 5px 0 0 5px;
    border: none;
    font-size: 16px;
  }
  #sendBtn {
    padding: 10px;
    background: #00ffcc;
    color: #000;
    border: none;
    cursor: pointer;
    border-radius: 0 5px 5px 0;
    font-weight: bold;
  }
  #sendBtn:hover {
    background: #00e6b8;
  }
</style>
</head>
<body>
<h1>NicholasAI ðŸ¤– â€“ Dynamic Responses</h1>
<div id="chatBox"></div>
<div id="inputContainer">
  <input type="text" id="userInput" placeholder="Type your message...">
  <button id="sendBtn">Send</button>
</div>

<script>
// Chat memory using localStorage
let memory = JSON.parse(localStorage.getItem('nicholasMemory')) || [];
const chatBox = document.getElementById('chatBox');
const userInput = document.getElementById('userInput');
const sendBtn = document.getElementById('sendBtn');

// Response templates
const templates = {
  greetings: ["Hi", "Hello", "Hey", "Yo", "Greetings", "Salutations"],
  endings: ["! How are you?", "! What's up?", "! Ready to chat?", "! Feeling good?", "! Howâ€™s your day?"],
  emojis: ["ðŸ˜Š","ðŸ˜Ž","ðŸ¤–","âœ¨","ðŸ”¥","ðŸ’¡","ðŸŽ‰","ðŸ‘","ðŸ’›"],
  tech: ["Have you tried debugging it?", "Code is fun!", "Let's figure it out.", "Tech is amazing!", "Check the console."],
  spiritual: ["Keep faith alive.", "Trust the journey.", "Stay blessed.", "Pray and be positive."],
  motivational: ["You can do it!", "Believe in yourself.", "Never give up.", "Every step counts."],
  jokes: ["Why did the chicken cross the road? To get to the other side!", "Why do programmers prefer dark mode? Because light attracts bugs!", "I would tell you a UDP joke, but you might not get it."]
};

// Helper: random choice
function randomChoice(arr) {
  return arr[Math.floor(Math.random() * arr.length)];
}

// Add message to chat box
function addMessage(msg, sender) {
  const div = document.createElement('div');
  div.classList.add('message', sender);
  div.textContent = msg;
  chatBox.appendChild(div);
  chatBox.scrollTop = chatBox.scrollHeight;
}

// Generate dynamic response
function generateResponse(userMsg) {
  userMsg = userMsg.toLowerCase();
  memory.push(userMsg);
  localStorage.setItem('nicholasMemory', JSON.stringify(memory));

  // Keyword detection
  if(userMsg.includes("hi") || userMsg.includes("hello")) {
    return randomChoice(templates.greetings) + randomChoice(templates.endings) + " " + randomChoice(templates.emojis);
  }
  if(userMsg.includes("tech") || userMsg.includes("code") || userMsg.includes("debug")) {
    return randomChoice(templates.tech) + " " + randomChoice(templates.emojis);
  }
  if(userMsg.includes("pray") || userMsg.includes("faith") || userMsg.includes("bless")) {
    return randomChoice(templates.spiritual) + " " + randomChoice(templates.emojis);
  }
  if(userMsg.includes("motivate") || userMsg.includes("inspire")) {
    return randomChoice(templates.motivational) + " " + randomChoice(templates.emojis);
  }
  if(userMsg.includes("joke") || userMsg.includes("funny")) {
    return randomChoice(templates.jokes) + " " + randomChoice(templates.emojis);
  }

  // Dynamic AI generation using memory
  const context = memory.slice(-3).join(", ");
  return randomChoice(templates.greetings) + "! Based on what you said before: [" + context + "], here's a thought: " + randomChoice([...templates.tech,...templates.spiritual,...templates.motivational,...templates.jokes]) + " " + randomChoice(templates.emojis);
}

// Display old messages
memory.forEach(msg => addMessage(msg, "user"));

// Send message
sendBtn.addEventListener('click', () => {
  const msg = userInput.value.trim();
  if(!msg) return;
  addMessage(msg, "user");
  const botReply = generateResponse(msg);
  addMessage(botReply, "bot");
  userInput.value = "";
});

// Enter key
userInput.addEventListener('keypress', (e) => {
  if(e.key === 'Enter') sendBtn.click();
});
</script>
</body>
</html>
